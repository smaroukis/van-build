<!doctype html>

<html class="no-js" lang="en">

<head>


	<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

	Off-Grid Van Conversion

	A hack by Spencer Maroukis of the Index Theme by https://jekyllthemes.io

	- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<!-- Page Info -->
	<link rel="shortcut icon" href="/img/favicon.png">
	<title>→ Battery Monitor – Off-Grid Van Conversion</title>
	<meta name="description" content="">

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="→ Battery Monitor – Off-Grid Van Conversion">
	<meta name="twitter:description" content="">
	<meta name="twitter:image:src" content="https://van.maroukis.net/img/bmv-header.jpg">

	<!-- Facebook OpenGraph -->
	<meta property="og:title" content="→ Battery Monitor – Off-Grid Van Conversion" />
	<meta property="og:description" content="" />
	<meta property="og:image" content="https://van.maroukis.net/img/bmv-header.jpg" />

	
	<!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,500" rel="stylesheet">
	

	<!-- Styles -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/css/style.css">
	
	<!-- Icons -->
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/solid.js" integrity="sha384-GXi56ipjsBwAe6v5X4xSrVNXGOmpdJYZEEh/0/GqJ3JTHsfDsF8v0YQvZCJYAiGu" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/brands.js" integrity="sha384-0inRy4HkP0hJ038ZyfQ4vLl+F4POKbqnaUB6ewmU4dWP0ki8Q27A0VFiVRIpscvL" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/fontawesome.js" integrity="sha384-NY6PHjYLP2f+gL3uaVfqUZImmw71ArL9+Roi9o+I4+RBqArA2CfW1sJ1wkABFfPe" crossorigin="anonymous"></script>

	
	<!-- Custom Styles -->
	<style></style>
	

	
	<!-- Analytics Code -->
	
	

	
	<!-- Extra Header JS Code -->
	
	
	
</head>


<body class="loading ajax-loading" data-site-url="https://van.maroukis.net" data-page-url="/battery-monitor-and-relay">


	<header class="header">

	<div class="header__content">

		
		<a href="/" class="header__title">
			Off-Grid Van Conversion
		</a>
		

		<h1 class="header__tagline">A self-built campervan inspired by the farm</h1>

		<div class="menu">
			<div class="menu__toggle js-menu-toggle">
				<div class="menu__toggle__icon"><span></span></div>
			</div>
			<div class="menu__wrap">
				<ul class="menu__list">
					
					<li class="menu__list__item">
						<a href="/overview" class="menu__list__item__link">Overview</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/about-me" class="menu__list__item__link">About Me</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/thanks-gratitude" class="menu__list__item__link">Thanks</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/behind-the-scenes" class="menu__list__item__link">Behind the Scenes</a>
					</li>
					
				</ul>
			</div>
		</div>

		<div class="projects-menu">
			<ul class="menu__list">
				
				
				<li class="menu__list__item">
					<a href="/00-intro" class="menu__list__item__link">00 Intro</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/01-build-features-design" class="menu__list__item__link">01 Features. Design. Layout</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/02-framing-insulation-window" class="menu__list__item__link">02 Framing. Insulation. Window</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/03-hardwood-floors-partition-wall" class="menu__list__item__link">03 Hardwood Floors. Walls</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/04-ceiling-skylight-fan" class="menu__list__item__link">04 Ceiling. Skylight. Fan</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/05-bed-frame" class="menu__list__item__link">05 Bed Frame</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/06-electrical-systems" class="menu__list__item__link">06 Electrical Systems</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/07-plumbing-water-heater" class="menu__list__item__link">07 Plumbing. Water Heater</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/08-shower-toilet-heater" class="menu__list__item__link">08 Shower. Toilet. Air Heating</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/09-kitchen" class="menu__list__item__link">09 Kitchen Cabinets. Counters</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/10-recessed-cabinets-table-final-trim" class="menu__list__item__link">10 Recessed Cabinet & Table. Trim</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/11-roof-ladder-rack-cell-booster" class="menu__list__item__link">11 Exterior Equipment</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/12-honorable-mentions" class="menu__list__item__link">12 Honorable Mentions</a>
				</li>
				
				<li class="menu__list__item">
					<a href="/13-full-index" class="menu__list__item__link">13 Full Index</a>
				</li>
				
			</ul>
		</div>

		<div class="header__lower">

			<ul class="socials">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</ul>

			<div class="footer__copyright">
				<span>© 2023 Spencer Maroukis</span>
			</div>

		</div>

	</div>

</header>


	<div class="loader"><svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle></svg></div>

	<div class="page-loader"></div>

	
	<div class="page">

		<div class="page__content" data-page-title="→ Battery Monitor – Off-Grid Van Conversion">

			<section class="intro">

	<div class="wrap">

		<h1>→ Battery Monitor</h1>
		<p></p>

	</div>

</section>

<section class="single">

	<div class="wrap">

		<p>Mfg. / Part #: Victron BMV 712 Smart
Tags: electrical</p>

<p>The Victron Battery Monitor (BMV) includes a shunt sensor that is critical to the protection and operation of the batteries. This device informs the user of the State of Charge (SoC), Voltage, and Current Draw, as well as provides the system-level protection (over/under voltage and low SoC) via the included Normally Open relay (which sends a signal to the Main Switch / Blue Sea ML-RBS)</p>

<h2 id="summary">Summary</h2>
<ul>
  <li>the BMV calculates the State of Charge by monitoring the current entering and leaving the battery through a shunt on the negative terminal of the system (all current passes through this point)</li>
  <li>the BMV provides the logic that handles the system protection, to prevent the user from over discharging the batteries</li>
  <li>the output of the BMV relay is connected to a Blue Sea ML-RBS contactor that will isolate the batteries from the system during an undesired event (under voltage, over discharge)</li>
</ul>

<h2 id="shunt-connection">Shunt Connection</h2>

<p>The shunt is installed on the negative side of the paralleled batteries - all the current coming in or going out of the batteries is going through the shunt, which is how the BMV calculates the State of Charge. The BMV communicates to the shunt through the grey RJ12 cable.</p>

<p>Additionally there is a red wire connected directly to the + terminal of one of the batteries which gives the real time voltage. This also is how the BMV display is powered. This is fused at 2A with an inline fuse.</p>

<p><img src="img/screen-shunt.png" alt="shunt" /></p>

<h2 id="protection">Protection</h2>

<p>The BMV has two wires connected to the back. The red wire is connected to the COM port which is just the 12V supply for the normally open (NO) relay. The blue wire (which connects to the orange wire of the ML-RBS, hence the orange in the drawing), is connected to the NO port. Normally Open means 0V will normally appear here until the relay activates, closing, and then this pin becomes 12V. The 12V activates the relay of the ML-RBS to switch over and disconnect the battery from the system. This may happen so fast that you don’t even hear an alarm, just the relay latching sound of the ML-RBS.</p>

<p>The alarm should be set to activate before the protection setting so that you can diagnose the problem, switch off problematic loads, etc. For example the low voltage alarm should be set above the low voltage relay, and the high voltage alarm should be set below the high voltage relay.</p>

<p>⚠️ If the relay activates and trips the ML-RBS main switch, make sure that the relay is <strong>open</strong> before trying to reconnect the batteries with the main switch pushbutton. This can be done from the Victron app (preferred) or by disconnecting the blade terminals going into the COM port (disconnecting the 12V supply to the relay will force the NO port to 0V - which is the same as in the open position).  For more info see the Note at the end of this document.</p>

<p><img src="img/bmv-relay-circuit.png" alt="contura switch and relay" /></p>

<p><img src="img/bmv-rear.jpeg" alt="The red wire going into the N.O. relay connects to the orange pin #1 of the ML-RBS main switch. The yellow wire is the 12V supply into COM which has the spade terminal disconnect in-line." /></p>

<p>The red wire going into the N.O. relay connects to the orange pin #1 of the ML-RBS main switch. The yellow wire is the 12V supply into COM which has the spade terminal disconnect in-line.</p>

<p><img src="img/bmv-rear-2.jpeg" alt="bmv-rear-2.jpeg" /></p>

<h2 id="note-on-ml-rbs-latching-close-state-when-relay-active">Note on ML-RBS “Latching Close” State When Relay Active</h2>

<p>During testing it was found that the RBS will undesirably latch-closed if there is 12V present on the pin 1 (orange) line - i.e. if the BMV NO relay is closed - and the close button is pressed on the ML-RBS pushbutton. During this state the “open” command on the pushbutton will not work. This is mentioned in the ML-RBS manual since the closed relay holds this pin 1 at 12V for more than 5 seconds which disables the functionality of the pushbutton.</p>

<blockquote>
  <p>If the orange line (pin 1) is held at 12V for more than 5 seconds the pushbutton functionality will be disabled</p>
</blockquote>

<p>⚠️ If this state is entered you can disconnect the COM port on the BMV to force the relay output voltage to 0V. Then the pushbutton can be used as normal.</p>

<p>For testing purposes see below:</p>

<p><img src="img/van-bmv-relay-tests.png" alt="van-bmv-relay-tests.png" /></p>

<h2 id="cad-drawings">CAD Drawings</h2>

<p>Full-size PDF CAD diagrams of the system can be found below:</p>
<ul>
  <li><a href="/pdf/DWG-01-AC-SYSTEM.pdf">DWG-01-AC-SYSTEM</a>(shows the inverter/charger and the shore power hookup)</li>
  <li><a href="/pdf/DWG-02-BATTERY-COMPARTMENT.pdf">DWG-02-BATTERY-COMPARTMENT</a> (shows the connections in the main electrical battery compartment and also the solar and alternator charger systems)</li>
  <li><a href="/pdf/DWG-03-12V-SYSTEM.pdf">DWG-03-12V-SYSTEM</a> (shows the 12V distribution fuse block, branch circuits, and loads)</li>
</ul>

<hr />

<p>Next: <a href="main-battery-disconnect">main-battery-disconnect</a></p>


	</div>

</section>

		</div>

	</div>


	<footer class="footer">

	<ul class="socials">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</ul>

	<div class="footer__copyright">
		<span>© 2023 Spencer Maroukis</span>
	</div>

</footer>


	<!-- Javascript Assets -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="/js/plugins-min.js"></script>
	<script src="/js/index-min.js"></script>

	
	<!-- Extra Footer JS Code -->
	
	


</body>

</html>